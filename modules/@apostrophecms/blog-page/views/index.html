{% extends "layout.html" %} {% extends data.outerLayout %} {% import
"filters.html" as filters %} {% import "@apostrophecms/pager:macros.html" as
pager with context %} {% block title %}{{ data.page.title }} {% endblock %} {%
block main %}
<div class="bg-container">
  <div>
    <h1 class="bg-h1 rtl:Tajawal">{{ __t('Blog') }}</h1>
    <!-- 
    {% render filters.render({ filters: data.piecesFilters, query: data.query,
    url: data.page._url }) %} -->
  </div>
  <div class="bg-allCards rtl:Tajawal">
    {% set index = 0 %} {% for piece in data.pieces %} {% if index % 2 == 0 %}
    {% set cardClass = "bg-preview-card" %} {% else %} {% set cardClass =
    "bg-preview-card-reverse" %} {% endif %}
    <div class="bg-preview-card rtl:Tajawal">
      <div class="bg-card">
        <a href="{{ piece._url }}">
          <h1
            class="rtl:Tajawal"
            style="
              font-size: 1rem;
              margin-bottom: 3%;
              display: -webkit-box;
              -webkit-line-clamp: 1;
              overflow: hidden;
              -webkit-box-orient: vertical;
            "
          >
            {{ piece.title }}
          </h1>
        </a>
        <h1 class="bg-preview-paragraph rtl:Tajawal">
          {{ piece.searchSummary }}
        </h1>
        <div class="bg-preview-desc rtl:Tajawal">
          <div class="bg-preview-date rtl:Tajawal">
            {{ __t('Released On') }} {{ piece.publishedAt | date('MMMM D, YYYY')
            }}
          </div>

          <!-- <div class="contact-section">
            <div class="likes-section">
              <img
                src="https://cdn.iconscout.com/icon/free/png-256/free-love-1120-894769.png?f=webp"
                class="bg-preview-likes-blog"
              />
              {% if piece.likes %}
              <p id="likes-count-{{ piece._id }}">{{ piece.likes }}</p>
              {% else %}
              <p id="likes-count-{{ piece._id }}">0</p>
              {% endif %}
            </div>
            <div class="comments-section">
              <img src="/images/comment.png" class="bg-preview-comments" />
              {% if piece.comments %}
              <p>{{ piece.comments.length }}</p>
              {% else %}
              <p>0</p>
              {% endif %}
            </div>
          </div> -->
        </div>
      </div>
      <a href="{{ piece._url }}" style="width: 80%">
        <img
          src="{{ piece._openGraphImage[0].attachment._urls['original'] }}"
          alt="{{ piece.title }}"
          class="bg-preview-image"
        />
      </a>
    </div>
    {% set index = index + 1 %}
    <!-- Increment the index -->
    {% endfor %}
  </div>
  <div class="pagination">
    {{ pager.render({ page: data.currentPage, total: data.totalPages },
    data.url) }}
  </div>
</div>
{% endblock %}
